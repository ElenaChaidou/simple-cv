\documentclass[$for(format.pdf-options.style)$$format.pdf-options.style$$sep$,$endfor$]{res}
\usepackage{fontspec}
\usepackage{tabulary}
\usepackage[
  breaklinks=true,
  hidelinks
]{hyperref}
\hypersetup{
            pdftitle={$format.title$},
            pdfauthor={$for(format.author)$$format.author$$sep$, $endfor$},
            pdfborder={0 0 0},
            breaklinks=true}

\def\tightlist{} % Pandoc adds \tightlist when an md list isnâ€™t sep. by newlines.
\date{$date$}

$if(format.pdf-options.footer)$
\usepackage{fancyhdr}
\pagestyle{fancy} % for fancy headers/footers
\newcommand\datestyle{}
\fancyhead{}
\lfoot{}
\cfoot{}% of \pageref{LastPage}}     % Use \thepage for counting page number
\rfoot{\datestyle\datestyle\
$if(format.pdf-options.footer.display-author)$$for(format.author)$$format.author$$sep$,
$endfor$$endif$  $if(format.pdf-options.footer.last-modified)$\today,$endif$ \thepage}
\renewcommand{\headrulewidth}{0.0pt}
$endif$

% res.cls variables
$if(format.pdf-options.smallcaps)$
  $if(personal.display-name)$
  \name{\sc{$personal.display-name$}}
  $else$
  \name{\sc{$personal.display-name$}}
  $endif$
  \renewcommand{\subsection}[1]{\section{\sc{#1}}} % res.cls expects \section, but pandoc gives \subsection
$else$
  $if(personal.display-name)$
  \name{$personal.display-name$}
  $else$
  \name{$personal.display-name$}
  $endif$
  \renewcommand{\subsection}[1]{\section{#1}} % res.cls expects \section, but pandoc gives \subsection
$endif$
$if(format.pdf-options.address)$
\address{$for(personal.address)$$personal.address$$sep$\\ $endfor$}
$endif$

\begin{document}
  \begin{resume}
$body$
  \end{resume}
\end{document}

